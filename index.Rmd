---
title: "IODS-final"
author: 
- Heidi Maanonen
- heidi.maanonen@helsinki.fi
date: "26.2.2017"
output: 
  html_document:
    theme: sandstone
    highlight: tango
    toc: true
    toc_float:
      collapsed: false
      smooth_scroll: false
    number_sections: true
    toc_depth: 2
    fig_caption: true
    fig_width: 6
    fig_height: 4
    code_folding: hide
---

&nbsp;

# The purpose of the final work

&nbsp;

The idea of the this final work is to show and demonstrate what I have been learning about R, data visualizing and statistics during this course called **Introduction to Open Data Science**. The course is organized by [University of Helsinki](https://wiki.helsinki.fi/display/SocStats/Introduction+to+Open+Data+Science,+spring+2017). I really want highlight that this was and is my first course and work with R programming. Considering this I like to believe that I have learnt a lot of very interesting ways of using R, RStudio and Rpackages.

In this final work We have 2 options of choosing our data. First we could use one of the the datasets which we had already applied. Alternatively we could try to find a new dataset from internet in terms of our interests or just to raise the degree of difficulty, I think. And because I'm very interested in research I wanted to find a new dataset to learn how to do the whole data wrangling and exploring process by myself. 

My intention here is to deepen my knowledge on [Principal Component Analysis](https://en.wikipedia.org/wiki/Principal_component_analysis) in terms of finding some latent structure of the dataset introduced in the next chapter.  

&nbsp;

# Description of the dataset

&nbsp;


I choose the dataset from [Kaggle](https://www.kaggle.com/miroslavsabo/young-people-survey), which is about **Preferencies, interests, habits, opinions and fears of young people** in Slovakia. In 2013, students of the Statistics class at [FSEV UK](https://fses.uniba.sk/en/) were asked to invite their friends to participate in this survey. Accordingly they managed to get 1 010 participants for this purpose. 

If you take a look at the Kaggle link you can see that there are huge amount of variables, that is 150 columns mainly integers but also some categorical variables. Thus for the purpose of this assignment and Principal Component Analysis I had to choose some interesting content which is funny because I choose the interests and hobbies of these young people. In addition, I also wanted to count in some demographical variables to make visualizations more versatile.

&nbsp;

## First part of data wrangling 

&nbsp;


You can find all of the datasets from my [GitHub Repository](https://github.com/8475394/IODS-final/tree/master/Data). The CSV-file called "raw_young_people_survey" is the original dataset from Kaggle. The "create_interests.R" is the R Script file of my data wrangling and the "interests_dem.txt" is the file what I'm going to use here.

&nbsp;

<p class="text-warning">BRIEF DESCRIPTION OF DATA WRANGLING PHASES:</p>

1. Reading the whole dataset
2. Selecting the variables of interests and hobbies including age and gender
3. Renaming some variables
4. Exploring missing values
5. Removing the rows with missing values
6. Saving the new data


&nbsp;

## Introducing the variables 

&nbsp;

From the structure table below you see that after data wrangling part there are 878 observation and 34 variables, mostly integers, i.e. continuous variables and 1 factor variable. The first 32 variables represent different interests and hobbies of young people which were measured on the [Likert Scale](https://en.wikipedia.org/wiki/Likert_scale) from 1 to 5 (Not interested - Very interested). Last two variables contains information about age and gender, where the former varies between 15 and 30 years. The latter contains categories of female and male.

Some of these variables may need some additional information, thus I made a table for their longer and short names. However, most of the variables have same longer and shorter name. See the table after exploring the structure of the data.

&nbsp;

<p class="text-warning">DATA STRUCTURE</p>


```{r, message=FALSE, warning=FALSE}
# Reading the data with interests and demographics
interests_dem <- read.table(file.path("C:/Users/heidi/Documents/YLIOPISTO/TILASTOTIEDE/INTRODUCTION TO OPEN DATA SCIENCE/IODS-final/data", "interests_dem.txt"), header = TRUE)

# Printing the data structure
library(dplyr)
glimpse(interests_dem)
```


&nbsp;

<p class="text-warning">INTERESTS AND THEIR SHORT NAMES</p> 

&nbsp;


INTEREST        | Short name          | INTEREST    | Short name
----------------|---------------------|-------------|-------------
1. History           | History        | 18. Religion     | Religion
2. Psychology        | Psychology     | 19. Outdoor activities | Outdoor
3. Politics          | Politics       | 20. Dancing     | Dancing
4. Mathematics       | Mathematics    | 21. Playing musical instruments | Instruments
5. Physics           | Physics        | 22. Poetry writing | wPoetry
6. Internet          | Internet       | 23. Sport and leisure activities | sLeisure
7. PC Software, Hardware| PC          | 24. Sport at competitive level | sCompetitive
8. Economy, Management | Economy      | 25. Gardening | Gardening
9. Biology           | Biology        | 26. Celebrity lifestyle | Celebrities
10. Chemistry         | Chemistry     | 27. Shopping | Shopping
11. Poetry reading    | rPoetry       | 28. Science and technology | SciTec
12. Geography         | Geography     | 29. Theatre | Theatre
13. Foreign languages | Languages     | 30. Socializing with friends | Social
14. Medicine          | Medicine      | 31. Adrenaline sports | sAdrenaline
15. Law               | Law           | 32. Pets | Pets
16. Cars              | Cars          | 33. Age | Age
17. Art exhibitions   | Art           | 34. Gender | Gender


&nbsp;

## Summary tables 

&nbsp;

The dataset contains a lot of variables, also producing many summary tables. 

As you can perceive, all of the variables, besides age, varies between 1 and 5. This means that the whole scale has been used considering each of the variables, besides age. Interestingly, some distributions are quite flat, suggesting average interest toward the hobbies or interests. By this I mean that the mean and median values are around 3. These include **History, Psychology, PC, Poetry reading, Geography, Sport at competitive level, Shopping, Science and technology, Theatre and  Adrenaline sports**.  

Then there are some variables with quite low average interest, including for example **Physics, Chemistry, Poetry writing and Gardening** and very high interest, including **Internet, Languages, Outdoor activities and Socializing with friends**. 

The last tiny table informs us that there are 520 females and 358 males.

When exploring the distributions, it is good to remember that the participants were not just the students but also their friends. This means that the participants can come from the University, working life, etc.   



```{r, fig.width=10, message=FALSE, warning=FALSE, results='asis'}
library(knitr); library(dplyr)
kable(summary(interests_dem[,1:7]), format = "pandoc", digits = 2,  caption = 'Summary 1', align = "l")

kable(summary(interests_dem[,8:14]), format = "pandoc", digits = 2,  caption = 'Summary 2', align = "l")

kable(summary(interests_dem[,15:21]), format = "pandoc", digits = 2,  caption = 'Summary 3', align = "l")

kable(summary(interests_dem[,22:28]), format = "pandoc", digits = 2,  caption = 'Summary 4', align = "l")

kable(summary(interests_dem[,29:33]), format = "pandoc", digits = 2,  caption = 'Summary 5', align = "l")


Gender <- interests_dem$Gender
table(Gender)

```

&nbsp;

# Graphical overview

&nbsp;


```{r, fig.height=9, fig.width=10, message=FALSE, warning=FALSE}
library(ggplot2); library(gridExtra)

# Nice  plave to learn about ggplot: https://sesync-ci.github.io/graphics-with-ggplot2-lesson/2016/08/25/
# Palettes and colors: http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#palettes-color-brewer 

h1 <- ggplot(interests_dem, aes(interests_dem$History, fill = Gender)) + geom_histogram(binwidth = 1, color = "white", alpha = 0.8) + scale_fill_manual(values=c("#CC79A7", "#0072B2")) + theme(legend.position=c(0.11, 0.8), legend.title=element_text(size=8), legend.text = element_text(size = 8)) + ggtitle("Interest toward history") + xlab("History")

h2 <- ggplot(interests_dem, aes(interests_dem$Psychology, fill = Gender)) + geom_histogram(binwidth = 1, color = "white", alpha = 0.6) + scale_fill_manual(values=c("#FF6666", "#66CC99")) + theme(legend.position=c(0.11, 0.8), legend.title=element_text(size=8), legend.text = element_text(size = 8)) + ggtitle("Interest toward psychology") + xlab("Psychology")

h3 <- ggplot(interests_dem, aes(interests_dem$Politics, fill = Gender)) + geom_histogram(binwidth = 1, color = "white", alpha = 0.8) + scale_fill_manual(values=c("#CC79A7", "#0072B2")) + theme(legend.position=c(0.9, 0.8), legend.title=element_text(size=8), legend.text = element_text(size = 8)) + ggtitle("Interest toward politics") + xlab("Politics")

h4 <-  ggplot(interests_dem, aes(interests_dem$Mathematics, fill = Gender)) + geom_histogram(binwidth = 1, color = "white", alpha = 0.8) + scale_fill_manual(values=c("#CC79A7", "#0072B2")) + theme(legend.position=c(0.85, 0.8), legend.title=element_text(size=8), legend.text = element_text(size = 8)) + ggtitle("Interest toward mathematics") + xlab("Mathematics")

grid.arrange(h1, h2, h3, h4, ncol = 3, nrow =3)
```










